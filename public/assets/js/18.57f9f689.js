(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{406:function(e,o,r){"use strict";r.r(o);var a=r(9),t=Object(a.a)({},(function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("blockquote",[r("p",[e._v("Opa, boas?")])]),e._v(" "),r("p",[e._v("Recentemente, comecei a pensar em como terminar o meu portfolio, projeto que tinha come√ßado em 2019 por√©m n√£o terminar√° por conta da minha pregui√ßa üòÇ.")]),e._v(" "),r("p",[e._v("Para esta nova vers√£o decidi abra√ßar algo que sempre quis fazer, manter meu pr√≥prio blog inclu√≠do no portfolio e parar de usar plataformas terceiras como o "),r("a",{attrs:{href:"https://medium.com/@acidiney",target:"_blank",rel:"noopener noreferrer"}},[e._v("medium"),r("OutboundLink")],1),e._v(" por exemplo.")]),e._v(" "),r("p",[e._v("Na vers√£o antiga do meu portfolio eu usava o "),r("a",{attrs:{href:"https://quasar.dev/",target:"_blank",rel:"noopener noreferrer"}},[e._v("quasar"),r("OutboundLink")],1),e._v(", um framework para o "),r("a",{attrs:{href:"https://vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue.js"),r("OutboundLink")],1),e._v(". Mas, com um monte de componentes feitos e preparado para o "),r("a",{attrs:{href:"https://medium.com/walmartlabs/the-benefits-of-server-side-rendering-over-client-side-rendering-5d07ff2cefe8",target:"_blank",rel:"noopener noreferrer"}},[e._v("ssr"),r("OutboundLink")],1),e._v(" e mobile usando "),r("a",{attrs:{href:"https://ionicframework.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ionic"),r("OutboundLink")],1),e._v(". Por√©m decidi remover o quasar, por n√£o usar quase nada dele, fora o "),r("a",{attrs:{href:"https://medium.com/walmartlabs/the-benefits-of-server-side-rendering-over-client-side-rendering-5d07ff2cefe8",target:"_blank",rel:"noopener noreferrer"}},[e._v("ssr"),r("OutboundLink")],1),e._v(" ( e pessoalmente eu n√£o gosto muito de ter a aplica√ß√£o parecida com o google üòÇ).")]),e._v(" "),r("p",[e._v("Eu n√£o queria voltar a usar "),r("a",{attrs:{href:"https://medium.com/walmartlabs/the-benefits-of-server-side-rendering-over-client-side-rendering-5d07ff2cefe8",target:"_blank",rel:"noopener noreferrer"}},[e._v("ssr"),r("OutboundLink")],1),e._v(" e sim "),r("a",{attrs:{href:"https://jamstack.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JAMStack"),r("OutboundLink")],1),e._v(". Sinto que n√£o h√° uma necessidade de usar "),r("a",{attrs:{href:"https://medium.com/walmartlabs/the-benefits-of-server-side-rendering-over-client-side-rendering-5d07ff2cefe8",target:"_blank",rel:"noopener noreferrer"}},[e._v("ssr"),r("OutboundLink")],1),e._v(" para o meu portfolio e ter arquivos "),r("code",[e._v("*.md")]),e._v(" j√° me resolvem ( al√©m disso, sinto que √© bem desnecess√°rio pagar uma hospedagem, como a que pago sendo que existe √≥timas op√ß√µes como o "),r("a",{attrs:{href:"https://netlify.app/",target:"_blank",rel:"noopener noreferrer"}},[e._v("netlify"),r("OutboundLink")],1),e._v(").")]),e._v(" "),r("p",[e._v("Sendo assim, o meu caminho fica bem mais curto, porque dos frameworks "),r("a",{attrs:{href:"https://vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("vuejs"),r("OutboundLink")],1),e._v(" que eu j√° usei que t√™m suporte aos "),r("a",{attrs:{href:"https://nuxtjs.org/guide#static-generated-pre-rendering",target:"_blank",rel:"noopener noreferrer"}},[e._v("SSG"),r("OutboundLink")],1),e._v(" s√£o o "),r("a",{attrs:{href:"https://gridsome.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gridsome"),r("OutboundLink")],1),e._v(" e o "),r("a",{attrs:{href:"https://nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxtjs"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("Eu j√° usei o "),r("a",{attrs:{href:"https://gridsome.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gridsome"),r("OutboundLink")],1),e._v(" e achei ele incr√≠vel, com certeza n√£o teria tantos problemas quanto os que eu tive a usar o "),r("a",{attrs:{href:"https://nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxtjs"),r("OutboundLink")],1),e._v(". Sinceramente n√£o houve nenhum motivo especial por tr√°s da minha decis√£o de escolher usar o "),r("a",{attrs:{href:"https://nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxt"),r("OutboundLink")],1),e._v(". Acredito que √© porque quero conhecer mais sobre ele e as coisas que posso fazer com ele‚úå.")]),e._v(" "),r("p",[e._v("Decidido qual framework usar, vamos por a m√£o na massa... Sendo sincero acho que a maior dificuldade que tive at√© agora foi quanto ao loader do markdown. Eu at√© tinha decidido fazer um backoffice bonito com um editor, que poderia escrever feliz l√° üòÅ... at√© come√ßar a ter um monte de erros de compila√ß√£o üòÇüòÇ. (Enfim foi um bom aprendizado), Por agora decidi pivotar e manter os posts local e escrever usando o "),r("a",{attrs:{href:"https://typora.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("typora"),r("OutboundLink")],1),e._v(" (Uma aplica√ß√£o desktop muito fixe, recomendo).")]),e._v(" "),r("p",[e._v("Depois de algumas horas de investiga√ß√£o acabei por usar o "),r("a",{attrs:{href:"https://github.com/jxson/front-matter",target:"_blank",rel:"noopener noreferrer"}},[e._v("front-matter"),r("OutboundLink")],1),e._v(" (para a leitura dos markdowns como componentes) usando o tema "),r("a",{attrs:{href:"https://github.com/dracula/prism",target:"_blank",rel:"noopener noreferrer"}},[e._v("dracula"),r("OutboundLink")],1),e._v(" este tema por pertencer a prims acabei usando o "),r("code",[e._v("markdown-it-prism")]),e._v(" e "),r("code",[e._v("markdown-it")]),e._v(" para auxiliar no loader, gostei muito do resultado... talvez mude no futuro, mas por agora √© o suficiente para mim.")]),e._v(" "),r("p",[e._v("Feito isso a minha configura√ß√£o ficou assim:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("const Mode = require('frontmatter-markdown-loader/mode')\nconst MarkdownIt = require('markdown-it')\nconst mip = require('markdown-it-prism')\nconst md = new MarkdownIt({\n    html: true,\n    typographer: true\n})\nmd.use(mip)\n// dentro module.exports\nextend (config, ctx) {\n    config.module.rules.push({\n        test: /\\.md$/,\n        include: path.resolve(__dirname, 'content'),\n        loader: 'frontmatter-markdown-loader',\n        options: {\n            mode: [Mode.VUE_COMPONENT, Mode.META],\n            vue: {\n                root: 'dynamicMarkdown'\n            },\n            markdown (body) {\n                return md.render(body)\n            }\n        }\n    }\n}\n")])])]),r("p",[e._v("Algo curioso √© que durante o processo todo o meu "),r("code",[e._v("mode")]),e._v(" do nuxt estava como "),r("code",[e._v("universal")]),e._v(" e isso me gerava erros de execu√ß√£o quando tentava abrir um markdown de testes, alterando-o para "),r("code",[e._v("spa")]),e._v(" a situa√ß√£o ficou resolvida.")]),e._v(" "),r("h2",{attrs:{id:"lendo-conteudo-de-todos-markdowns-de-uma-vez"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#lendo-conteudo-de-todos-markdowns-de-uma-vez"}},[e._v("#")]),e._v(" Lendo conte√∫do de todos markdowns de uma vez")]),e._v(" "),r("p",[e._v("Algo que estava a me incomodar era n√£o ter uma descri√ß√£o na lista de post's na home page, eu at√© consegia por intermedio de uma gambiarra pegar a "),r("code",[e._v("data")]),e._v(" o "),r("code",[e._v("titulo")]),e._v("e as "),r("code",[e._v("categorias")]),e._v("( Aqui no teu ouvido... era uma GAMBIARRA daquelas üòÇüòÇüòÇüòÇ). Como era: basicamente o nome dos meus markdowns consistem na "),r("code",[e._v("data")]),e._v(" e o "),r("code",[e._v("title")]),e._v(" como o desse por exemplo: "),r("code",[e._v("2020-05-16-refazendo-meu-portfolio")]),e._v(", assim com algumas regras e com alguns "),r("code",[e._v("slices")]),e._v(" daqui e dali eu consigo ter a data e o titulo. Ent√£o para adicionar as categorias teria que fazer algo do g√©nero "),r("code",[e._v("2020-05-16-refazendo-meu-portfolio.javascript,nuxt,pwa,ssg")]),e._v(" e depois um "),r("code",[e._v("split")]),e._v(" daqui e uns "),r("code",[e._v("slices")]),e._v(" dali e pronto eu tinha as categorias üòÇ‚úå (Avisei). O problema logo surge quando queremos exibir alguma descri√ß√£o b√°sica, eu fiz tudo isso para n√£o ter que abrir os markdowns na primeira p√°gina. depois de alguns esfor√ßos fracassados decidi seguir abrindo-os mesmo. Por√©m s√≥ dos que estiverem a ser vistos no momento, fiz isso usando o interception api do HTML, para facilitar usei essa lib "),r("a",{attrs:{href:"https://github.com/Akryum/vue-observe-visibility",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue Observe Visibility"),r("OutboundLink")],1),e._v(" e depois de algumas pesquisas descobri que poderia passar atributos nos markdowns usando o pr√≥prio front-matter, ficando desta forma em todos os markdowns.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("---\ndate: 2020-05-16\ntitle: Re-build meu portfolio\nimage: 2020-16-05-rebuild-portfolio.jpg\ncategories: Javascript, Nuxtjs, PWA, SSG, Markdown, JAMStack\ndescription: Passo a passo de como foi refazer o porfolio\n---\n")])])]),r("p",[e._v("Isso me abriu as portas para customizar uma capa nos posts como no caso desse aqui. E no meu componente foi basicamente fazer isso, quando um post estiver vis√≠vel para o usu√°rio:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("async loadFrontMatterDescription (visibility, entry, link) {\n    let post = await import(`~/content/${link}.md`)\n    this.articles = this.articles.map(article => {\n    if (article.link === link) {\n       return {\n    \t...article,\n        description: post.attributes.description,\n        categories: post.attributes.categories.split(',')\n        }\n    }\n    return {\n     ...article\n    }\n })\n")])])]),r("p",[e._v("E "),r("em",[e._v("voila")]),e._v(" eu tenho as minhas "),r("code",[e._v("description")]),e._v(" s√≥ para os posts que estiverem vis√≠veis.")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://camo.githubusercontent.com/ef0ca85770f6d8f2bcf8a97f70de7cef889fa8182022c2b01e5d5e1d31ff7788/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f64736673666364796f2f696d6167652f75706c6f61642f76313539333837343733392f41636964696e6579446961732e6d652f323032302d31362d30352d72656275696c642d706f7274666f6c696f2f323032302d30352d31362d72656275696c642d6d65752d706f7274666f6c696f5f6d32356471772e706e67",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"https://camo.githubusercontent.com/ef0ca85770f6d8f2bcf8a97f70de7cef889fa8182022c2b01e5d5e1d31ff7788/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f64736673666364796f2f696d6167652f75706c6f61642f76313539333837343733392f41636964696e6579446961732e6d652f323032302d31362d30352d72656275696c642d706f7274666f6c696f2f323032302d30352d31362d72656275696c642d6d65752d706f7274666f6c696f5f6d32356471772e706e67",alt:"Post With Description"}}),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Obrigado por ler, Com base nos feedbacks que obter nesse post posso criar uma segunda parte, citando outros situa√ß√µes que tive.")])])}),[],!1,null,null,null);o.default=t.exports}}]);